<form autocomplete="off" #createTenantForm="ngForm" (ngSubmit)="save()">
    <h1 mat-dialog-title>{{ "CreateNewSchool" | localize }}</h1>
    <mat-dialog-content style="width: 800px;">

        <mat-tab-group>
            <mat-tab [label]="'SchoolDetails' | localize">
                <!--------------------------School details------------------------------------->
                <div class="row-fluid m-t-20" style="overflow-x: hidden;">
                    <div class="col-md-6">
                        <mat-form-field>
                            <input matInput
                                   name="TenancyName"
                                   [placeholder]="'SchoolName' | localize"
                                   [(ngModel)]="tenant.tenancyName"
                                   required
                                   minlength="2"
                                   maxlength="64" />
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field>
                            <input matInput
                                   name="Name"
                                   [placeholder]="'Name' | localize"
                                   [(ngModel)]="tenant.name"
                                   required
                                   maxlength="128" />
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field>
                            <input matInput
                                   name="AdminEmailAddress"
                                   [placeholder]="'AdminEmailAddress' | localize"
                                   [(ngModel)]="tenant.adminEmailAddress"
                                   type="email"
                                   pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{1,})+$"
                                   required
                                   maxlength="256" />
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field>
                            <input matInput
                                   name="Principal"
                                   [placeholder]="'Principal' | localize"
                                   [(ngModel)]="tenant.principal"
                                   required
                                   maxlength="100" />
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field>
                            <input matInput
                                   name="DeputyPrincipal"
                                   [placeholder]="'DeputyPrincipal' | localize"
                                   [(ngModel)]="tenant.deputyPrincipal"
                                   maxlength="100" />
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field>
                            <input matInput
                                   name="District"
                                   [placeholder]="'District' | localize"
                                   [(ngModel)]="tenant.district"
                                   maxlength="100" />
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field>
                            <input matInput
                                   name="Website"
                                   [placeholder]="'Website' | localize"
                                   [(ngModel)]="tenant.websiteAddress"
                                   maxlength="100" />
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <div class="m-t-10 m-b-10">
                            <input type="file" ng2FileSelect [uploader]="uploader" />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="checkbox-wrapper">
                            <mat-checkbox name="IsActive" [(ngModel)]="tenant.isActive">
                                {{ "IsActive" | localize }}
                            </mat-checkbox>
                        </div>
                        <p>{{ "DefaultPasswordIs" | localize: "123qwe" }}</p>
                    </div>
                </div>
            </mat-tab>
            <mat-tab [label]="'Address' | localize">
                <!--------------------------Address details------------------------------------->
                <div class="m-t-20">
                    <div *ngFor="let address of tenant.addresses; let in = index;" class="row-fluid">
                        <div class="col-md-6">
                            <mat-form-field>
                                <mat-select required [placeholder]="l('Type')" [(ngModel)]="address.type" name="addressType[{{in}}]">
                                    <mat-option *ngFor="let addressType of addressTypes;" [value]="addressType.id">{{ addressType.value }}</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field>
                                <input matInput
                                       name="Description[{{in}}]"
                                       [placeholder]="'Description' | localize"
                                       [(ngModel)]="address.description"
                                       required
                                       maxlength="200" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field>
                                <input matInput
                                       name="AddressLine1[{{in}}]"
                                       [placeholder]="'AddressLine1' | localize"
                                       [(ngModel)]="address.addressLine1"
                                       required
                                       maxlength="100" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field>
                                <input matInput
                                       name="AddressLine2[{{in}}]"
                                       [placeholder]="'AddressLine2' | localize"
                                       [(ngModel)]="address.addressLine2"
                                       maxlength="100" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field>
                                <input matInput
                                       name="AddressLine3[{{in}}]"
                                       [placeholder]="'AddressLine3' | localize"
                                       [(ngModel)]="address.addressLine3"
                                       maxlength="100" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field>
                                <input matInput
                                       name="Locality[{{in}}]"
                                       [placeholder]="'Locality' | localize"
                                       [(ngModel)]="address.locality"
                                       required
                                       maxlength="100" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field>
                                <input matInput
                                       name="Region[{{in}}]"
                                       [placeholder]="'Region' | localize"
                                       [(ngModel)]="address.region"
                                       required
                                       maxlength="100" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field>
                                <input matInput
                                       name="Country[{{in}}]"
                                       [placeholder]="'Country' | localize"
                                       [(ngModel)]="address.country"
                                       required
                                       maxlength="100" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field>
                                <input matInput
                                       name="PostalCode[{{in}}]"
                                       [placeholder]="'PostalCode' | localize"
                                       [(ngModel)]="address.postalCode"
                                       required
                                       maxlength="100" />
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </mat-tab>
            <mat-tab [label]="'Contact' | localize">
                <!--------------------------Contact details------------------------------------->
                <div class="m-t-20">
                    <div *ngFor="let contact of tenant.contacts; let in = index;" class="row-fluid">
                        <div class="col-md-6">
                            <mat-form-field>
                                <mat-select required [placeholder]="l('Type')" [(ngModel)]="contact.type" name="contactType[{{in}}]">
                                    <mat-option *ngFor="let contactType of contactTypes;" [value]="contactType.id">{{ contactType.value }}</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field>
                                <input matInput
                                       name="Description[{{in}}]"
                                       [placeholder]="'Description' | localize"
                                       [(ngModel)]="contact.description"
                                       required
                                       maxlength="200" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field>
                                <input matInput
                                       name="Value[{{in}}]"
                                       [placeholder]="'Value' | localize"
                                       [(ngModel)]="contact.value"
                                       required
                                       maxlength="100" />
                            </mat-form-field>
                        </div>

                    </div>
                </div>
            </mat-tab>
        </mat-tab-group>



    </mat-dialog-content>
    <div mat-dialog-actions align="end">
        <button mat-button type="button" [disabled]="saving" (click)="close(false)">
            {{ "Cancel" | localize }}
        </button>
        <button mat-flat-button
                type="submit"
                flex="15"
                color="primary"
                [disabled]="!createTenantForm.form.valid || saving">
            {{ "Save" | localize }}
        </button>
    </div>
</form>
